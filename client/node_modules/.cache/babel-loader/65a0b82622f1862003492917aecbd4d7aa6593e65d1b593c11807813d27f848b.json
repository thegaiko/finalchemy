{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gaiko/Code/newCode/finalchemy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gaiko/Code/newCode/finalchemy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gaiko/Code/newCode/finalchemy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./Auth.css';import React,{useRef,useState,useEffect}from\"react\";import{useNavigate}from'react-router-dom';import domain from'../../config';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Auth(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var navigate=useNavigate();var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(token){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/api/check_token/\",{\"TOKEN\":token});case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;console.log(data);if(data===true){localStorage.setItem(\"token\",token);navigate('/home');}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"menuPart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logoText\",children:\"\\u0424\\u0438\\u043D\\u0430\\u043D\\u0441\\u043E\\u0432\\u0430\\u044F \\u0430\\u043B\\u0445\\u0438\\u043C\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"lowText\",children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{className:\"depositInput\",value:token,onChange:function onChange(event){return setToken(event.target.value);},type:\"num\",id:\"message\",name:\"message\"}),/*#__PURE__*/_jsx(\"button\",{className:\"normalText\",onClick:function onClick(){return fetchData(token);},children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})});}export default Auth;","map":{"version":3,"names":["React","useRef","useState","useEffect","useNavigate","domain","axios","Auth","result","setResult","token","setToken","navigate","fetchData","post","data","console","log","localStorage","setItem","event","target","value"],"sources":["/Users/gaiko/Code/newCode/finalchemy/client/src/components/auth/Auth.jsx"],"sourcesContent":["import './Auth.css';\nimport React, {useRef, useState, useEffect} from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport domain from '../../config'\nimport axios from \"axios\";\n\nfunction Auth() {\n    const [result, setResult] = useState([])\n    const [token, setToken] = useState()\n\n    const navigate = useNavigate()\n\n    const fetchData = async(token) => {\n        try{\n            const {data} = await axios.post(`/api/check_token/`, {\n                \"TOKEN\": token\n            })\n            console.log(data)\n            if (data === true){\n                localStorage.setItem(\"token\", token)\n                navigate('/home')\n            }\n\n        } catch(error) {\n            console.log(error)\n        }\n        \n    }\n\n    return (\n        <div>\n            <div className='menuPart'>\n                <div className='logoText'>Финансовая алхимия</div>\n\n                <div className='lowText'>Авторизация</div>\n                <input className='depositInput' value={token} onChange={event => setToken(event.target.value)} type=\"num\" id=\"message\" name=\"message\" />\n\n                <button className='normalText' onClick={() => fetchData(token)}>Войти</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Auth;\n"],"mappings":"mZAAA,MAAO,YAAY,CACnB,MAAOA,MAAK,EAAGC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,OAAM,KAAM,cAAc,CACjC,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,QAASC,KAAI,EAAG,CACZ,cAA4BL,QAAQ,CAAC,EAAE,CAAC,wCAAjCM,MAAM,eAAEC,SAAS,eACxB,eAA0BP,QAAQ,EAAE,yCAA7BQ,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAE9B,GAAMS,UAAS,4FAAG,iBAAMH,KAAK,qLAEAJ,MAAK,CAACQ,IAAI,qBAAsB,CACjD,OAAO,CAAEJ,KACb,CAAC,CAAC,wCAFKK,IAAI,mBAAJA,IAAI,CAGXC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,GAAIA,IAAI,GAAK,IAAI,CAAC,CACdG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAET,KAAK,CAAC,CACpCE,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,+EAGDI,OAAO,CAACC,GAAG,aAAO,qEAGzB,kBAfKJ,UAAS,4CAed,CAED,mBACI,kCACI,aAAK,SAAS,CAAC,UAAU,wBACrB,YAAK,SAAS,CAAC,UAAU,qHAAyB,cAElD,YAAK,SAAS,CAAC,SAAS,gFAAkB,cAC1C,cAAO,SAAS,CAAC,cAAc,CAAC,KAAK,CAAEH,KAAM,CAAC,QAAQ,CAAE,kBAAAU,KAAK,QAAIT,SAAQ,CAACS,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAG,cAExI,eAAQ,SAAS,CAAC,YAAY,CAAC,OAAO,CAAE,yBAAMT,UAAS,CAACH,KAAK,CAAC,EAAC,4CAAe,GAC5E,EACJ,CAEd,CAEA,cAAeH,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}