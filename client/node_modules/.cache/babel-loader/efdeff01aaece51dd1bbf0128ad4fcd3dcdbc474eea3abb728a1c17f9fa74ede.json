{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gaiko/Code/newCode/finalchemy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gaiko/Code/newCode/finalchemy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gaiko/Code/newCode/finalchemy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./Auth.css';import React,{useState}from\"react\";import{useNavigate}from'react-router-dom';import btnIcon from\"../../svg/authButton.png\";import domain from'../../config';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Auth(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var navigate=useNavigate();var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(token){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(domain,\"api/check_token/\"),{\"TOKEN\":token});case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;console.log(data);if(data===true){localStorage.setItem(\"token\",token);navigate('/home');}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();var handler=function handler(event){console.log(event);if(event.key==='Enter'){fetchData(token);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"authPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logoBar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"\\u0424\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logoBoxText\",children:[\"\\u0444\\u0438\\u043D\\u0430\\u043D\\u0441\\u043E\\u0432\\u0430\\u044F \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0430\\u043B\\u0445\\u0438\\u043C\\u0438\\u044F\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tokenBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputTyping\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"tokenInput\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u0442\\u043E\\u043A\\u0435\\u043D.\",value:token,onChange:function onChange(event){return setToken(event.target.value);},type:\"num\",id:\"message\",name:\"message\"}),/*#__PURE__*/_jsx(\"button\",{className:\"authBtnBox\",onKeyDown:function onKeyDown(e){return handler(e);},onClick:function onClick(){return fetchData(token);},children:/*#__PURE__*/_jsx(\"img\",{className:\"authBtn\",src:btnIcon,alt:\"\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputBox\"})]})]});}export default Auth;","map":{"version":3,"names":["React","useState","useNavigate","btnIcon","domain","axios","Auth","token","setToken","navigate","fetchData","post","data","console","log","localStorage","setItem","handler","event","key","target","value","e"],"sources":["/Users/gaiko/Code/newCode/finalchemy/client/src/components/auth/Auth.jsx"],"sourcesContent":["import './Auth.css';\nimport React, {useState} from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport btnIcon from \"../../svg/authButton.png\"\nimport domain from '../../config'\nimport axios from \"axios\";\n\nfunction Auth() {\n    const [token, setToken] = useState()\n\n    const navigate = useNavigate()\n\n    const fetchData = async(token) => {\n        try{\n            const {data} = await axios.post(`${domain}api/check_token/`, {\n                \"TOKEN\": token\n            })\n            console.log(data)\n            if (data === true){\n                localStorage.setItem(\"token\", token)\n                navigate('/home')\n            }\n\n        } catch(error) {\n            console.log(error)\n        }\n        \n    }\n\n    const handler = (event) => {\n        console.log(event)\n        if (event.key === 'Enter'){\n            fetchData(token);\n        }\n    }\n\n    return (\n        <div className='authPage'>\n            <div className='logoBar'>\n                <div className='logo'>Ф</div>\n                <div className='logoBoxText'>финансовая <br/>алхимия</div>\n            </div>\n            <div className='tokenBox'>\n                <div className='inputTyping'>\n                    <input className='tokenInput' placeholder='Введите ваш токен.'  value={token} onChange={event => setToken(event.target.value)} type=\"num\" id=\"message\" name=\"message\" />\n                    <button className='authBtnBox' onKeyDown={(e) => handler(e)} onClick={() => fetchData(token)}>\n                        <img className='authBtn' src={btnIcon} alt=\"\" />\n                    </button>\n                </div>\n                <div className='inputBox'></div>\n            </div>\n        </div>\n    );\n}\n\nexport default Auth;\n"],"mappings":"mZAAA,MAAO,YAAY,CACnB,MAAOA,MAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,QAAO,KAAM,0BAA0B,CAC9C,MAAOC,OAAM,KAAM,cAAc,CACjC,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,QAASC,KAAI,EAAG,CACZ,cAA0BL,QAAQ,EAAE,wCAA7BM,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAE9B,GAAMQ,UAAS,4FAAG,iBAAMH,KAAK,qLAEAF,MAAK,CAACM,IAAI,WAAIP,MAAM,qBAAoB,CACzD,OAAO,CAAEG,KACb,CAAC,CAAC,wCAFKK,IAAI,mBAAJA,IAAI,CAGXC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,GAAIA,IAAI,GAAK,IAAI,CAAC,CACdG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAET,KAAK,CAAC,CACpCE,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,+EAGDI,OAAO,CAACC,GAAG,aAAO,qEAGzB,kBAfKJ,UAAS,4CAed,CAED,GAAMO,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAK,CACvBL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC,CAClB,GAAIA,KAAK,CAACC,GAAG,GAAK,OAAO,CAAC,CACtBT,SAAS,CAACH,KAAK,CAAC,CACpB,CACJ,CAAC,CAED,mBACI,aAAK,SAAS,CAAC,UAAU,wBACrB,aAAK,SAAS,CAAC,SAAS,wBACpB,YAAK,SAAS,CAAC,MAAM,oBAAQ,cAC7B,aAAK,SAAS,CAAC,aAAa,wFAAY,aAAK,gDAAa,GACxD,cACN,aAAK,SAAS,CAAC,UAAU,wBACrB,aAAK,SAAS,CAAC,aAAa,wBACxB,cAAO,SAAS,CAAC,YAAY,CAAC,WAAW,CAAC,+FAAoB,CAAE,KAAK,CAAEA,KAAM,CAAC,QAAQ,CAAE,kBAAAW,KAAK,QAAIV,SAAQ,CAACU,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAG,cACxK,eAAQ,SAAS,CAAC,YAAY,CAAC,SAAS,CAAE,mBAACC,CAAC,QAAKL,QAAO,CAACK,CAAC,CAAC,EAAC,CAAC,OAAO,CAAE,yBAAMZ,UAAS,CAACH,KAAK,CAAC,EAAC,uBACzF,YAAK,SAAS,CAAC,SAAS,CAAC,GAAG,CAAEJ,OAAQ,CAAC,GAAG,CAAC,EAAE,EAAG,EAC3C,GACP,cACN,YAAK,SAAS,CAAC,UAAU,EAAO,GAC9B,GACJ,CAEd,CAEA,cAAeG,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}